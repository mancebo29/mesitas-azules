(()=>{var t={928:(t,e)=>{t.exports=function(t){return new Promise(((e,n)=>{const i=function(t){let{url:e,params:n={},win:i=window,options:s={}}=t;const a=new i.XMLHttpRequest("MSXML2.XMLHTTP.3.0"),r=new URLSearchParams(n);return a.open("GET","".concat(e,"?").concat(r),1),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.withCredentials=s.withCredentials||!0,a.timeout=s.timeout,a}(t);i.onreadystatechange=()=>{4===i.readyState&&(i.status>=200&&i.status<300?e(i.responseText):n("Ajax: Status code ".concat(i.status)))},i.onerror=()=>n("Ajax: Network error"),i.ontimeout=()=>n("Ajax: Timeout"),i.send()}))}},698:(t,e)=>{function n(t,e){s(t,e),e.add(t)}function i(t,e,n){s(t,e),e.set(t,n)}function s(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function r(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,c(t,e,"get"))}function o(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,c(t,e,"set"),n),n}function c(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}const l="iab",u={CCPA:"__uspapi",GDPR:"__tcfapi"},h={GDPR:"__tcfapiLocator",CCPA:"__uspapiLocator"},d={GDPR:"addEventListener",CCPA:"getUSPData"},p={GDPR:2,CCPA:1};var w=new WeakMap,v=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,S=new WeakMap,P=new WeakMap,k=new WeakMap,C=new WeakSet,M=new WeakSet,b=new WeakSet,W=new WeakSet,y=new WeakSet,A=new WeakSet,D=new WeakSet,T=new WeakSet,x=new WeakSet,E=new WeakSet;function L(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r(this,m);try{if("function"==typeof e[r(this,v)])return{cmpApi:e[r(this,v)],win:e};if(e.frames[t])return{win:e}}catch(t){}return e===r(this,m).top?{}:a(this,C,L).call(this,t,e.parent)}function _(t){return!("boolean"==typeof(null==t?void 0:t.gdprApplies)?t.gdprApplies:r(this,P))||(e=null==t?void 0:t.tcString)&&"string"==typeof e?{consentData:a(this,W,I).call(this,{consentString:t.tcString,applies:t.gdprApplies,consentObject:t,additionalFields:{..."string"==typeof t.addtlConsent?{addtlConsent:t.addtlConsent}:{}}})}:{errMsg:"CMP returned unexpected value during lookup process.",errArgs:{consentObject:t}};var e}function j(t){return(e=null==t?void 0:t.uspString)&&"string"==typeof e?{consentData:a(this,W,I).call(this,{consentString:t.uspString,consentObject:t})}:{errMsg:"CMP returned unexpected value during lookup process.",errArgs:{consentObject:t}};var e}function I(){let{consentString:t,applies:e,consentObject:n,additionalFields:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{consentString:t,vendorData:n,applies:"boolean"==typeof e?e:r(this,P),apiVersion:p[r(this,w)],name:r(this,w),...i}}function R(t){var e=this;const n={GDPR:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a(e,M,_).call(e,...n)},CCPA:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a(e,b,j).call(e,...n)}};return n[r(this,w)](t)}function O(t,e){return e?{GDPR:t=>!1===t.gdprApplies||"tcloaded"===t.eventStatus||"useractioncomplete"===t.eventStatus,CCPA:()=>!0}[r(this,w)](t)?a(this,y,R).call(this,t):(o(this,g,t),null):{errMsg:"CMP unable to register callback function.  Please check CMP setup."}}function U(t,e){var n,i,s;const a="".concat(r(this,v),"Return"),o=(null!==(n=t.data)&&void 0!==n&&null!==(i=n.includes)&&void 0!==i&&i.call(n,a)?JSON.parse(t.data):t.data)[a];null!=o&&o.callId&&(null===(s=e[o.callId])||void 0===s||s.call(e,o.returnValue,o.success),delete e[o.callId])}function G(t){let{command:e,win:n,eventListener:i}=t;const s={},o="".concat(r(this,v),"Call");r(this,m)[r(this,v)]=function(t,e,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=Math.random().toString(),c={[o]:{command:t,version:e,parameter:a,callId:r}};s[r]=i,n.postMessage(c,"*")},r(this,m).addEventListener("message",(t=>a(this,D,U).call(this,t,s)),!1),r(this,m)[r(this,v)](e,p[r(this,w)],i)}function X(){var t=this;const{cmpApi:e,win:n}=a(this,C,L).call(this,h[r(this,w)]);return new Promise((i=>{if(!n)return void i({errMsg:"CMP not found"});const s=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];const r=a(t,A,O).call(t,...n);r&&i(r)},o=d[r(this,w)];e?e(o,p[r(this,w)],s):a(this,T,G).call(this,{command:o,win:n,eventListener:s})}))}function V(){return a(this,y,R).call(this,r(this,k))}t.exports=class{constructor(t){let{name:e,userCmp:s=l,win:a=window,config:r={}}=t;n(this,E),n(this,x),n(this,T),n(this,D),n(this,A),n(this,y),n(this,W),n(this,b),n(this,M),n(this,C),i(this,w,{writable:!0,value:void 0}),i(this,v,{writable:!0,value:void 0}),i(this,f,{writable:!0,value:void 0}),i(this,g,{writable:!0,value:void 0}),i(this,m,{writable:!0,value:void 0}),i(this,S,{writable:!0,value:void 0}),i(this,P,{writable:!0,value:void 0}),i(this,k,{writable:!0,value:void 0}),o(this,w,e),o(this,v,u[e]),o(this,f,s),o(this,m,a),o(this,P,r.defaultPrivacyScope||!1),o(this,S,r.consentTimeout||1e4),o(this,k,r.staticConsentData||{})}loadConsentData(){var t=this;const e={iab:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return a(t,x,X).call(t,...n)},static:()=>a(this,E,V).call(this)};let n=null;if(!Object.keys(e).includes(r(this,f)))return Promise.resolve({errMsg:"The indicated CMP (".concat(r(this,f),") is not a supported")});const i=new Promise((t=>{n=r(this,m).setTimeout((()=>{const{consentData:e,errMsg:n}=a(this,y,R).call(this,r(this,g));t({consentData:n?a(this,W,I).call(this):e,errMsg:"CMP hasn't been loaded"})}),r(this,S))}));return Promise.race([e[r(this,f)](),i]).finally((()=>r(this,m).clearTimeout(n)))}}},440:(t,e,n)=>{function i(t,e){a(t,e),e.add(t)}function s(t,e,n){a(t,e),e.set(t,n)}function a(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,l(t,e,"get"))}function o(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function c(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,l(t,e,"set"),n),n}function l(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}const u=n(928),h="https://lexicon.33across.com/v1/envelope",d="33acrossId",p="".concat(d,"_last"),w="".concat(d,"_exp"),v=1e4,f=28800,g=90,m="ima",S={GDPR:"gdpr_consent",CCPA:"us_privacy"};var P=new WeakMap,k=new WeakMap,C=new WeakMap,M=new WeakMap,b=new WeakMap,W=new WeakMap,y=new WeakMap,A=new WeakMap,D=new WeakMap,T=new WeakMap,x=new WeakMap,E=new WeakSet,L=new WeakSet,_=new WeakSet,j=new WeakSet,I=new WeakSet,R=new WeakSet,O=new WeakSet,U=new WeakSet,G=new WeakSet,X=new WeakSet,V=new WeakSet;function q(t){const e=JSON.parse(t);return e.succeeded&&e.data.envelope?e.data.envelope:""}function F(){const t=new Date(o(this,j,N).call(this,r(this,x).EXP));return!!t&&new Date(t).getTime()-Date.now()<=0}function H(){const t=new Date(o(this,j,N).call(this,r(this,x).LAST));return Date.now()-t.getTime()>1e3*r(this,C)}function N(t){return r(this,M).localStorage.getItem(t)}function z(t,e){return r(this,M).localStorage.setItem(t,e),this}function J(t){var e,n;const i=new Date(Date.now()+864e5*r(this,A));return o(n=o(e=o(this,I,z).call(this,r(this,x).VALUE,t),I,z).call(e,r(this,x).EXP,i.toUTCString()),I,z).call(n,r(this,x).LAST,(new Date).toUTCString()),this}async function B(){const t=await o(this,U,K).call(this);return t?(o(this,R,J).call(this,t),o(this,X,Y).call(this,t)):r(this,W)}async function K(){try{const t=await r(this,b).call(this,{url:r(this,k),params:o(this,G,Q).call(this,{allConsentData:await r(this,D)}),options:{withCredentials:!0,timeout:v}});return o(this,E,q).call(this,t)}catch(t){throw new Error("_33AcrossIdMappingsProvider: ".concat(t))}}function Q(t){let{allConsentData:e}=t;return e.reduce(((t,e)=>{let{consentData:n={}}=e;const i=S[n.name];return n.consentString&&i&&Object.assign(t,{[i]:n.consentString}),t}),{pid:r(this,P),src:r(this,T),ver:"0.5.0"})}function Y(t){const[e]=r(this,y),[n]=e.uids;return Object.assign(n,{id:t,atype:1}),c(this,W,r(this,y)),r(this,W)}function Z(){return"esp"===r(this,T)?{VALUE:"".concat(r(this,T),"_").concat(d),LAST:"".concat(r(this,T),"_").concat(p),EXP:"".concat(r(this,T),"_").concat(w)}:{VALUE:d,LAST:p,EXP:w}}t.exports=class{constructor(t){let{pid:e,apiUrl:n=h,expires:a=g,refreshInSeconds:r=f,win:o=window,src:l=m}=t,{ajax:d=u,consentDataPromise:p=Promise.resolve([])}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,V),i(this,X),i(this,G),i(this,U),i(this,O),i(this,R),i(this,I),i(this,j),i(this,_),i(this,L),i(this,E),s(this,P,{writable:!0,value:void 0}),s(this,k,{writable:!0,value:void 0}),s(this,C,{writable:!0,value:void 0}),s(this,M,{writable:!0,value:void 0}),s(this,b,{writable:!0,value:void 0}),s(this,W,{writable:!0,value:[]}),s(this,y,{writable:!0,value:[]}),s(this,A,{writable:!0,value:void 0}),s(this,D,{writable:!0,value:void 0}),s(this,T,{writable:!0,value:void 0}),s(this,x,{writable:!0,value:{}}),c(this,P,e),c(this,k,n),c(this,C,r),c(this,M,o),c(this,b,d),c(this,A,a),c(this,D,p),c(this,T,l)}async fetch(){c(this,x,o(this,V,Z).call(this)),c(this,y,[{source:"33across.com",uids:[{}]}]);const t=r(this,M).decodeURIComponent(o(this,j,N).call(this,r(this,x).VALUE));return o(this,L,F).call(this)||!t?o(this,O,B).call(this):(o(this,_,H).call(this)&&o(this,O,B).call(this),o(this,X,Y).call(this,t))}getIds(){return r(this,W)}getLoadingIds(){return r(this,y)}getPid(){return r(this,P)}getSource(){return r(this,T)}}},636:(t,e)=>{t.exports=function(t){var e,n,i;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;null!==(e=s.googletag)&&void 0!==e||(s.googletag={}),null!==(i=(n=s.googletag).secureSignalProviders)&&void 0!==i||(n.secureSignalProviders=[]),s.googletag.secureSignalProviders.push({id:"33across.com",collectorFunction:()=>t.fetch().then((t=>{var e;return(null===(e=t[0])||void 0===e?void 0:e.uids[0].id)||null}))})}},966:(t,e,n)=>{const i=n(698),s=n(440),a=Promise.all(["GDPR","CCPA"].map((t=>new i({name:t}).loadConsentData())));function r(t){const e=new s(t,{consentDataPromise:a});return r.providers[e.getSource()]=e,e}r.providers={},t.exports=r},551:(t,e)=>{function n(t){var e;return null===(e=t._33across)||void 0===e?void 0:e.idMappingsConfig.pid}t.exports=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const e=n(t);return e?Promise.resolve(e):(function(t,e){!function(t,e,n){const i="_33across.idMappingsConfig.pid".split(".");i.reduce(((t,e,s)=>s===i.length-1?(t[e]=n,n):void 0===t[e]?(t[e]={},t[e]):t[e]),t)}(e,0,t)}(await function(t){return new Promise((e=>{t.setTimeout((async()=>{e(await function(t){return new Promise((e=>{t.pbjs&&t.pbjs.que?t.pbjs.que.push((()=>{var n,i;e(null===(n=t.pbjs)||void 0===n||null===(i=n.getConfig("userSync.userIds").find((t=>{let{name:e}=t;return"33acrossId"===e})))||void 0===i?void 0:i.params.pid)})):e()}))}(t)||function(t){if(!t._33AcrossIdMappingsProvider){let t;return t}const e=t._33AcrossIdMappingsProvider.providers,n=e.ima||e.aps;return null==n?void 0:n.getPid()}(t))}),10)}))}(t),t),n(t))}}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}(()=>{const t=n(966),e=n(551),i=n(636);!async function(){const n=await e();if(!n)return void console.error("33Across Lexicon ID Mappings Provider: PID not found");const s=new t({src:"esp",pid:n});i(s)}()})()})();